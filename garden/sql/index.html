<!doctype html><html><head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<link rel=preconnect href=https://fonts.googleapis.com>
<link rel=preconnect href=https://fonts.gstatic.com crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Mulish:wght@300;400;600;700;800&family=Frank+Ruhl+Libre:wght@200;300;400;500;600&family=Encode+Sans+Semi+Condensed:wght@400&display=swap" rel=stylesheet>
<link rel=stylesheet type=text/css href=/css/bootstrap.min.css>
<link rel=stylesheet type=text/css href=/css/all.min.css>
<link disabled id=dark-mode-theme rel=stylesheet href=/css/dark.css>
<link rel=stylesheet type=text/css href=/css/style.css>
<link rel=stylesheet type=text/css href=/css/my_style.css>
<link href=/css/syntax.min.css rel=stylesheet>
<link href=/css/copy-code-button.min.css rel=stylesheet>
<link rel=icon href=https://lassa97.github.io/favicon.ico>
<link rel=icon type=image/png sizes=16x16 href=https://lassa97.github.io/favicon-16x16.png>
<link rel=icon type=image/png sizes=32x32 href=https://lassa97.github.io/favicon-32x32.png>
<link rel=apple-touch-icon href=https://lassa97.github.io/apple-touch-icon.png>
<link rel=mask-icon href=https://lassa97.github.io/safari-pinned-tab.svg>
<meta name=theme-color content="#2e2e33">
<meta name=msapplication-TileColor content="#2e2e33">
<title>Fermin Lassa | SQL ðŸ’¾</title>
<meta name=description content="Code snippets with useful stuff about SQL">
</head><body><nav class="navbar navbar-expand-lg navbar-light bg-light">
<div class=container>
<a class=navbar-brand href=https://lassa97.github.io>
<b style=font-weight:800 class=neon-initials>lassault</b>
</a>
<button class=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#navbarNavDropdown aria-controls=navbarNavDropdown aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span>
</button>
<div class="collapse navbar-collapse" id=navbarNavDropdown>
<ul class="navbar-nav ms-auto mt-2 mt-lg-0"><li class=nav-item>
<a class=nav-link href=/garden/> Digital Garden</a>
</li>
<li class=nav-item>
<a class=nav-link href=/projects/> Projects</a>
</li>
<li class=nav-item>
<a class=nav-link href=/posts/> Posts</a>
</li>
<li class=nav-item>
<a class=nav-link href=/about/> About</a>
</li>
<li class="nav-item px-2 pt-1">
<a class="btn fas fa-moon" id=dark-mode-toggle></a>
</li>
</ul>
</div>
</div>
</nav><div id=content>
<div class=container style=max-width:800px>
<div class="py-4 rounded-3">
<div class="container-fluid py-2">
<h1 class="display-2 mb-4 text-center">SQL ðŸ’¾</h1>
</div>
<p class="text-center fs-4 fst-italic serif">Code snippets with useful stuff about SQL</p>
<div class="text-center pt-4">
</div>
</div>
<div class="row justify-content-center mb-5">
<div class=col-12>
<p class="card-date m-0">
Created Jan 1, 2019 -
Last updated: Dec 15, 2021
</p>
<hr class=dropdown-divider>
<div class="row justify-content-between">
<div class=col-sm-4>
<span class=status>Growing ðŸŒ¿</span>
</div>
<div class=col-sm-8 style=text-align:right>
<span class="badge tag-badge">sql</span>
</div>
</div>
</div>
</div>
<div class="container-fluid py-2">
<div class="serif main-content">
<p>Code snippets with useful stuff about SQL</p>
<h2 id=users>Users</h2>
<h4 id=create-a-user-in-mysql-1>Create a user in MySQL <sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup></h4>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=k>CREATE</span><span class=w> </span><span class=k>USER</span><span class=w> </span><span class=s1>&#39;user&#39;</span><span class=o>@</span><span class=s1>&#39;localhost&#39;</span><span class=w> </span><span class=k>IDENTIFIED</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=s1>&#39;password&#39;</span><span class=p>;</span><span class=w>
</span><span class=w></span><span class=k>GRANT</span><span class=w> </span><span class=k>ALL</span><span class=w> </span><span class=k>PRIVILEGES</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=o>&lt;</span><span class=k>database</span><span class=o>&gt;</span><span class=w> </span><span class=p>.</span><span class=w> </span><span class=o>&lt;</span><span class=kp>tables</span><span class=o>&gt;</span><span class=w> </span><span class=k>TO</span><span class=w> </span><span class=s1>&#39;user&#39;</span><span class=o>@</span><span class=s1>&#39;localhost&#39;</span><span class=p>;</span><span class=w>
</span><span class=w></span><span class=k>FLUSH</span><span class=w> </span><span class=k>PRIVILEGES</span><span class=w>
</span></code></pre></div><h4 id=remove-a-user-and-its-privileges-in-mysql-2>Remove a user and it&rsquo;s privileges in MySQL <sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup></h4>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=k>SHOW</span><span class=w> </span><span class=n>GRANTS</span><span class=w> </span><span class=k>FOR</span><span class=w> </span><span class=s1>&#39;user&#39;</span><span class=o>@</span><span class=s1>&#39;localhost&#39;</span><span class=p>;</span><span class=w> </span><span class=c1>-- To see the user privileges
</span><span class=c1></span><span class=k>REVOKE</span><span class=w> </span><span class=k>ALL</span><span class=w> </span><span class=k>PRIVILEGES</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=o>&lt;</span><span class=k>database</span><span class=o>&gt;</span><span class=w> </span><span class=p>.</span><span class=w> </span><span class=o>&lt;</span><span class=kp>tables</span><span class=o>&gt;</span><span class=w> </span><span class=k>TO</span><span class=w> </span><span class=s1>&#39;user&#39;</span><span class=o>@</span><span class=s1>&#39;localhost&#39;</span><span class=p>;</span><span class=w>
</span><span class=w></span><span class=k>DROP</span><span class=w> </span><span class=k>USER</span><span class=w> </span><span class=s1>&#39;user&#39;</span><span class=o>@</span><span class=s1>&#39;localhost&#39;</span><span class=p>;</span><span class=w>
</span></code></pre></div><h2 id=importexport-databases>Import/export databases</h2>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=c1># Import database</span>
mysql -u &lt;user&gt; -p &lt;database&gt; &lt; database.sql

<span class=c1># Export database</span>
mysql -u &lt;user&gt; -p &lt;database&gt; &gt; database.sql
</code></pre></div><h2 id=alter-tables-3>Alter tables <sup id=fnref:3><a href=#fn:3 class=footnote-ref role=doc-noteref>3</a></sup></h2>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=c1>-- Add the AUTO_INCREMENT option
</span><span class=c1></span><span class=k>ALTER</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=o>&lt;</span><span class=k>table</span><span class=o>&gt;</span><span class=w> </span><span class=n>MODIFY</span><span class=w> </span><span class=o>&lt;</span><span class=n>value</span><span class=o>&gt;</span><span class=w> </span><span class=kt>INT</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=no>NULL</span><span class=w> </span><span class=kp>AUTO_INCREMENT</span><span class=p>;</span><span class=w>
</span></code></pre></div><h2 id=times>Times</h2>
<p>If you want to add or substract two times, simply use ADDTIME and SUBTIME.</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=k>SELECT</span><span class=w> </span><span class=nf>ADDTIME</span><span class=p>(</span><span class=s1>&#39;14:00:00&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;00:15:00&#39;</span><span class=p>);</span><span class=w>                
</span><span class=w>
</span><span class=w></span><span class=o>+---------------------------------+</span><span class=w>
</span><span class=w></span><span class=o>|</span><span class=w> </span><span class=nf>ADDTIME</span><span class=p>(</span><span class=s1>&#39;14:00:00&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;00:15:00&#39;</span><span class=p>)</span><span class=w> </span><span class=o>|</span><span class=w>
</span><span class=w></span><span class=o>+---------------------------------+</span><span class=w>
</span><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>14</span><span class=p>:</span><span class=mi>15</span><span class=p>:</span><span class=mi>00</span><span class=w>                        </span><span class=o>|</span><span class=w>
</span><span class=w></span><span class=o>+---------------------------------+</span><span class=w>
</span><span class=w></span><span class=mi>1</span><span class=w> </span><span class=n>row</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=kt>set</span><span class=w> </span><span class=p>(</span><span class=mi>0</span><span class=p>.</span><span class=mi>00</span><span class=w> </span><span class=n>sec</span><span class=p>)</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=k>SELECT</span><span class=w> </span><span class=nf>SUBTIME</span><span class=w> </span><span class=p>(</span><span class=s1>&#39;14:00:00&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;00:15:00&#39;</span><span class=p>);</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=o>+----------------------------------+</span><span class=w>
</span><span class=w></span><span class=o>|</span><span class=w> </span><span class=nf>SUBTIME</span><span class=w> </span><span class=p>(</span><span class=s1>&#39;14:00:00&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;00:15:00&#39;</span><span class=p>)</span><span class=w> </span><span class=o>|</span><span class=w>
</span><span class=w></span><span class=o>+----------------------------------+</span><span class=w>
</span><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>13</span><span class=p>:</span><span class=mi>45</span><span class=p>:</span><span class=mi>00</span><span class=w>                         </span><span class=o>|</span><span class=w>
</span><span class=w></span><span class=o>+----------------------------------+</span><span class=w>
</span><span class=w></span><span class=mi>1</span><span class=w> </span><span class=n>row</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=kt>set</span><span class=w> </span><span class=p>(</span><span class=mi>0</span><span class=p>.</span><span class=mi>00</span><span class=w> </span><span class=n>sec</span><span class=p>)</span><span class=w>
</span></code></pre></div><p>It also works with dates, and you can substract hours, minutes, seconds and fractional seconds.</p>
<section class=footnotes role=doc-endnotes>
<hr>
<ol>
<li id=fn:1 role=doc-endnote>
<p><a href=https://www.digitalocean.com/community/tutorials/how-to-create-a-new-user-and-grant-permissions-in-mysql target=_blank>How to create a new user and grant permissions in MySQL</a>&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p>
</li>
<li id=fn:2 role=doc-endnote>
<p><a href=https://stackoverflow.com/questions/17799806/remove-privileges-from-mysql-database target=_blank>Remove privileges from MySQL database</a>&#160;<a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p>
</li>
<li id=fn:3 role=doc-endnote>
<p><a href=https://mariadb.com/kb/en/auto_increment/ target=_blank>Add AUTO_INCREMENT option</a>&#160;<a href=#fnref:3 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p>
</li>
</ol>
</section>
</div>
</div>
</div>
</div><div class=container>
<div class="row justify-content-between">
<div class=col-sm-4>
<p class="neon-initials footer">Fermin Lassa Â© 2022 </p>
</div>
<div class="col-sm-6 d-flex flex-row-reverse">
<a class="footer-social px-2" href=mailto:fermin.lassa.es target=_blank><i class="neon-initials fab fa-keybase"></i></a>
<a class="footer-social px-2" href=https://open.spotify.com/user/lassa97 target=_blank><i class="neon-initials fab fa-spotify"></i></a>
<a class="footer-social px-2" href=https://www.linkedin.com/in/fermin-lassa-iglesias target=_blank><i class="neon-initials fab fa-linkedin-in"></i></a>
<a class="footer-social px-2" href=https://github.com/lassa97 target=_blank><i class="neon-initials fab fa-github-alt"></i></a>
</div>
</div>
</div><script src=/js/bootstrap.min.js></script>
<script type=text/javascript src=/js/jquery.min.js></script>
<script src=/js/isotope.pkgd.min.js></script>
<script src=https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js integrity=sha384-GNFwBvfVxBkLMJpYMOABq3c+d3KnQxudP/mGPkzpZSTYykLBNsZEnG2D9G/X/+7D crossorigin=anonymous async></script>
<script src=/js/dark.js></script>
<script src=/js/isotope.js></script>
<script src=/js/mermaid.min.js></script>
<script>mermaid.initialize({startOnLoad:!0,securityLevel:'loose'})</script>
<script src=/js/copy-code-button.min.js></script>
</body>
</html>