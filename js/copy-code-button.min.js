function createCopyButton(a){const b=document.createElement("button");b.className="copy-code-button",b.type="button",b.innerText="Copy",b.addEventListener("click",()=>copyCodeToClipboard(b,a)),a.insertBefore(b,a.firstChild);const c=document.createElement("div");c.className="highlight-wrapper",a.parentNode.insertBefore(c,a),c.appendChild(a)}document.querySelectorAll(".highlight").forEach(a=>createCopyButton(a));async function copyCodeToClipboard(a,b){const c=b.querySelector(":last-child > .chroma > code").innerText;try{var d=await navigator.permissions.query({name:"clipboard-write"});d.state=="granted"||d.state=="prompt"?await navigator.clipboard.writeText(c):copyCodeBlockExecCommand(c,b)}catch(a){copyCodeBlockExecCommand(c,b)}finally{a.blur(),a.innerText="Copied!",setTimeout(function(){a.innerText="Copy"},2e3)}}function copyCodeBlockExecCommand(e,b){const a=document.createElement("textArea");a.contentEditable="true",a.readOnly="false",a.className="copyable-text-area",a.value=e,b.insertBefore(a,b.firstChild);const c=document.createRange();c.selectNodeContents(a);const d=window.getSelection();d.removeAllRanges(),d.addRange(c),a.setSelectionRange(0,999999),document.execCommand("copy"),b.removeChild(a)}